<VirtualHost *:80>
  ServerName localhost
  DocumentRoot /var/www/html

  <Directory /var/www/html>
    AllowOverride All
    Require all granted

    <IfModule mod_rewrite.c>
      RewriteEngine On

      # Redirect URLs ending with .php to URLs without .php
      RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php\s [NC]
      RewriteRule ^ %1 [R=301,L]

      # Redirect URLs ending with .html to URLs without .html
      RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.html\s [NC]
      RewriteRule ^ %1 [R=301,L]

      # For PHP files
      RewriteCond %{REQUEST_FILENAME}.php -f
      RewriteRule ^(.*)$ $1.php [L]

      # For HTML files
      RewriteCond %{REQUEST_FILENAME}.html -f
      RewriteRule ^(.*)$ $1.html [L]
    </IfModule>
  </Directory>

  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>